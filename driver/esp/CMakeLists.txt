file(
    GLOB ${PROJECT_NAME}_DRIVER_SOURCES "${CMAKE_CURRENT_LIST_DIR}/*.cpp")

target_sources(${PROJECT_NAME}
    PRIVATE ${${PROJECT_NAME}_DRIVER_SOURCES})

target_include_directories(
    ${PROJECT_NAME}
    PUBLIC ${CMAKE_CURRENT_LIST_DIR})

if(NOT LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_PRIORITY)
    set(LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_PRIORITY 20)
endif()

if(NOT LIBXR_ESP_IDF_SOCKET_READ_THREAD_PRIORITY)
    set(LIBXR_ESP_IDF_SOCKET_READ_THREAD_PRIORITY 20)
endif()

if(NOT LIBXR_ESP_IDF_SOCKET_READ_THREAD_STACK_SIZE)
    set(LIBXR_ESP_IDF_SOCKET_READ_THREAD_STACK_SIZE 8192)
endif()

if(NOT LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_STACK_SIZE)
    set(LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_STACK_SIZE 8192)
endif()

target_compile_definitions(xr PUBLIC LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_PRIORITY=${LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_PRIORITY})
target_compile_definitions(xr PUBLIC LIBXR_ESP_IDF_SOCKET_READ_THREAD_PRIORITY=${LIBXR_ESP_IDF_SOCKET_READ_THREAD_PRIORITY})
target_compile_definitions(xr PUBLIC LIBXR_ESP_IDF_SOCKET_READ_THREAD_STACK_SIZE=${LIBXR_ESP_IDF_SOCKET_READ_THREAD_STACK_SIZE})
target_compile_definitions(xr PUBLIC LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_STACK_SIZE=${LIBXR_ESP_IDF_SOCKET_WRITE_THREAD_STACK_SIZE})
